!function(o){function e(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return o[t].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=o,e.c=n,e.i=function(o){return o},e.d=function(o,n,t){e.o(o,n)||Object.defineProperty(o,n,{configurable:!1,enumerable:!0,get:t})},e.n=function(o){var n=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(n,"a",n),n},e.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},e.p="",e(e.s=4)}([,function(o,e){!function(o,e){for(var n in e)o[n]=e[n]}(e,function(o){function e(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return o[t].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=o,e.c=n,e.i=function(o){return o},e.d=function(o,n,t){e.o(o,n)||Object.defineProperty(o,n,{configurable:!1,enumerable:!0,get:t})},e.n=function(o){var n=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(n,"a",n),n},e.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},e.p="",e(e.s=0)}([function(o,e){throw new Error("Module build failed: ReferenceError: [BABEL] /Users/duwen/Documents/code/Ajax-hook/index.js: Using removed Babel 5 option: foreign.modules - Use the corresponding module transform plugin in the `plugins` option. Check out http://babeljs.io/docs/plugins/#modules\n    at Logger.error (/Users/duwen/Documents/code/Ajax-hook/node_modules/babel-core/lib/transformation/file/logger.js:41:11)\n    at OptionManager.mergeOptions (/Users/duwen/Documents/code/Ajax-hook/node_modules/babel-core/lib/transformation/file/options/option-manager.js:220:20)\n    at /Users/duwen/Documents/code/Ajax-hook/node_modules/babel-core/lib/transformation/file/options/option-manager.js:265:14\n    at /Users/duwen/Documents/code/Ajax-hook/node_modules/babel-core/lib/transformation/file/options/option-manager.js:323:22\n    at Array.map (<anonymous>)\n    at OptionManager.resolvePresets (/Users/duwen/Documents/code/Ajax-hook/node_modules/babel-core/lib/transformation/file/options/option-manager.js:275:20)\n    at OptionManager.mergePresets (/Users/duwen/Documents/code/Ajax-hook/node_modules/babel-core/lib/transformation/file/options/option-manager.js:264:10)\n    at OptionManager.mergeOptions (/Users/duwen/Documents/code/Ajax-hook/node_modules/babel-core/lib/transformation/file/options/option-manager.js:249:14)\n    at OptionManager.init (/Users/duwen/Documents/code/Ajax-hook/node_modules/babel-core/lib/transformation/file/options/option-manager.js:368:12)\n    at File.initOptions (/Users/duwen/Documents/code/Ajax-hook/node_modules/babel-core/lib/transformation/file/index.js:212:65)")}]))},,,function(o,e,n){"use strict";var t=n(1);t.hookAjax({onreadystatechange:function(o){console.log("onreadystatechange called: %O",o)},onload:function(o){console.log("onload called: %O",o)},open:function(o,e){console.log("open called: method:%s,url:%s,async:%s",o[0],o[1],o[2],e),o[1]+="?hook_tag=1"},send:function(o,e){console.log("send called: %O",o[0]),e.setRequestHeader("_custom_header_","ajaxhook")},setRequestHeader:function(o,e){console.log("setRequestHeader called!",o)}}),$.get().done(function(o){console.log(o.substr(0,30)+"..."),console.log("unhook"),t.unHookAjax(),$.get().done(function(o){console.log(o.substr(0,10))})})}]);